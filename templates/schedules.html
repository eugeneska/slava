{% extends "base.html" %}

{% block title %}–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ - CleanPro{% endblock %}

{% block extra_css %}
<style>
    .status-badge {
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.875rem;
    }
    .status-scheduled { background: #bee3f8; color: #2c5282; }
    .status-inprogress { background: #feebc8; color: #7c2d12; }
    .status-completed { background: #c6f6d5; color: #22543d; }
    .status-cancelled { background: #fed7d7; color: #742a2a; }
</style>
{% endblock %}

{% block content %}
<div class="card-header">
    <h1>üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É–±–æ—Ä–æ–∫</h1>
    <a href="{{ url_for('add_schedule') }}" class="btn btn-primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
</div>

<div class="table-wrapper">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>–î–∞—Ç–∞/–í—Ä–µ–º—è</th>
                <th>–û–±—ä–µ–∫—Ç</th>
                <th>–ö–ª–∏–µ–Ω—Ç</th>
                <th>–£—Å–ª—É–≥–∞</th>
                <th>–°–æ—Ç—Ä—É–¥–Ω–∏–∫</th>
                <th>–°—Ç–æ–∏–º–æ—Å—Ç—å</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for schedule in schedules %}
            <tr>
                <td>{{ schedule.ID }}</td>

                <td>
                    <strong>
                        {% if schedule.ScheduledDate %}
                            {{ schedule.ScheduledDate }}
                        {% else %}
                            -
                        {% endif %}
                    </strong><br>

                    <small>
                        {% if schedule.ScheduledTime %}
                            {{ schedule.ScheduledTime }}
                        {% else %}
                            --:--
                        {% endif %}
                    </small>
                </td>

                <td>{{ schedule.ObjectName }}</td>
                <td>{{ schedule.ClientName }}</td>
                <td>{{ schedule.ServiceName }}</td>
                <td>{{ schedule.EmployeeName or '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω' }}</td>
                <td>{{ schedule.Cost or '-' }} BYN</td>

                <td>
                    {% if schedule.Status == '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ' %}
                        <span class="status-badge status-scheduled">{{ schedule.Status }}</span>
                    {% elif schedule.Status == '–í –ø—Ä–æ—Ü–µ—Å—Å–µ' %}
                        <span class="status-badge status-inprogress">{{ schedule.Status }}</span>
                    {% elif schedule.Status == '–í—ã–ø–æ–ª–Ω–µ–Ω–æ' %}
                        <span class="status-badge status-completed">{{ schedule.Status }}</span>
                    {% else %}
                        <span class="status-badge status-cancelled">{{ schedule.Status }}</span>
                    {% endif %}
                </td>

                <td>
                    <a href="{{ url_for('edit_schedule', id=schedule.ID) }}" class="btn btn-warning btn-sm">‚úèÔ∏è</a>
                    <a href="{{ url_for('delete_schedule', id=schedule.ID) }}"
                       onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ?')"
                       class="btn btn-danger btn-sm">üóëÔ∏è</a>
                </td>
            </tr>
            {% else %}
            <tr><td colspan="9" class="text-center">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
